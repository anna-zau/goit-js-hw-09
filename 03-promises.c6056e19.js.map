{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,SAGhCC,GAFWF,SAASC,cAAc,yBAEtBE,IAChBC,EAAAP,GAASQ,OAAOF,QAAQ,KAAGA,IAAY,GAGnCG,EAAWC,IACfH,EAAAP,GAASQ,OAAOG,QAAQ,KAAGD,IAAS,EAGtCR,EAAOU,iBAAiB,UAExB,SAAsBC,GACpBA,EAAIC,iBACJ,MAAMC,EAASF,EAAIG,cAAcC,SAASF,OAAOG,MAE3CC,EAAOC,SAASP,EAAIG,cAAcC,SAASE,KAAKD,OAEtD,IAAIG,EAAQD,SAASP,EAAIG,cAAcC,SAASI,MAAMH,OAEtD,MAAMI,EAAW,GAEjB,IAAK,IAAIC,EAAI,EAAGA,GAAKR,EAAQQ,IAC3BC,YAAW,KACTF,EAASG,KAAKC,EAAcH,EAAGF,GAAOM,KAAKtB,GAAWuB,MAAMnB,IAC5DY,GAASF,CAAI,GACZE,GAEHnB,EAAO2B,QAGTC,QAAQC,IAAIT,E,IAGd,MAAMI,EAAgB,CAACM,EAAUX,IACxB,IAAIS,SAAQ,CAACG,EAASvB,KAC3B,MAAMwB,EAAgBC,KAAKC,SAAW,GAEtCZ,YAAW,KACLU,EACFD,EAAQ,qBAAqBD,QAAeX,QAE5CX,EAAO,oBAAoBsB,QAAeX,OAAW,GAEtDA,EAAM","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\nconst startBtn = document.querySelector('button[type=\"submit\"]');\n\nconst onFulfill = success => {\n  Notiflix.Notify.success(`✅ ${success}`);\n};\n\nconst onReject = reject => {\n  Notiflix.Notify.failure(`❌ ${reject}`);\n};\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const amount = evt.currentTarget.elements.amount.value;\n\n  const step = parseInt(evt.currentTarget.elements.step.value);\n\n  let delay = parseInt(evt.currentTarget.elements.delay.value);\n\n  const promises = [];\n\n  for (let i = 1; i <= amount; i++) {\n    setTimeout(() => {\n      promises.push(createPromise(i, delay).then(onFulfill).catch(onReject));\n      delay += step;\n    }, delay);\n\n    formEl.reset();\n  }\n\n  Promise.all(promises);\n}\n\nconst createPromise = (position, delay) => {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(`Fulfilled promise ${position} in ${delay} ms`);\n      } else {\n        reject(`Rejected promise ${position} in ${delay} ms`);\n      }\n    }, delay);\n  });\n};\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$onFulfill","success","$parcel$interopDefault","Notify","$47d4ff9957288465$var$onReject","reject","failure","addEventListener","evt","preventDefault","amount","currentTarget","elements","value","step","parseInt","delay","promises","i","setTimeout","push","$47d4ff9957288465$var$createPromise","then","catch","reset","Promise","all","position","resolve","shouldResolve","Math","random"],"version":3,"file":"03-promises.c6056e19.js.map"}