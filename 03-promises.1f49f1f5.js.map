{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,SAGhCC,GAFWF,SAASC,cAAc,yBAEtB,SAAAE,GAChBC,EAAAP,GAASQ,OAAOF,QAAQ,KAAeG,OAARH,G,GAG3BI,EAAW,SAAAC,GACfJ,EAAAP,GAASQ,OAAOI,QAAQ,KAAYH,OAAPE,G,EAG/BT,EAAOW,iBAAiB,UAExB,SAAsBC,G,kBAWlBC,YAAW,WACTC,EAASC,KAAKC,EAAcC,EAAGC,GAAOC,KAAKhB,GAAWiB,MAAMZ,IAC5DU,GAASG,C,GACRH,GAEHlB,EAAOsB,O,EAfTV,EAAIW,iBASJ,IARA,IAAMC,EAASZ,EAAIa,cAAcC,SAASF,OAAOG,MAE3CN,EAAOO,SAAShB,EAAIa,cAAcC,SAASL,KAAKM,OAElDT,EAAQU,SAAShB,EAAIa,cAAcC,SAASR,MAAMS,OAEhDb,EAAW,GAERe,EAAI,EAAGA,GAAKL,EAAQK,IAAGC,EAAAD,GAShCE,QAAQC,IAAIlB,E,IAGd,IAAME,EAAgB,SAACiB,EAAUf,GAC/B,OAAO,IAAIa,SAAQ,SAACG,EAASzB,GAC3B,IAAM0B,EAAgBC,KAAKC,SAAW,GAEtCxB,YAAW,WACLsB,EACFD,EAAQ,qBAAoC3B,OAAf0B,EAAS,QAAY1B,OAANW,EAAM,QAElDT,EAAO,oBAAmCF,OAAf0B,EAAS,QAAY1B,OAANW,EAAM,O,GAEjDA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\nconst startBtn = document.querySelector('button[type=\"submit\"]');\n\nconst onFulfill = success => {\n  Notiflix.Notify.success(`✅ ${success}`);\n};\n\nconst onReject = reject => {\n  Notiflix.Notify.failure(`❌ ${reject}`);\n};\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const amount = evt.currentTarget.elements.amount.value;\n\n  const step = parseInt(evt.currentTarget.elements.step.value);\n\n  let delay = parseInt(evt.currentTarget.elements.delay.value);\n\n  const promises = [];\n\n  for (let i = 1; i <= amount; i++) {\n    setTimeout(() => {\n      promises.push(createPromise(i, delay).then(onFulfill).catch(onReject));\n      delay += step;\n    }, delay);\n\n    formEl.reset();\n  }\n\n  Promise.all(promises);\n}\n\nconst createPromise = (position, delay) => {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(`Fulfilled promise ${position} in ${delay} ms`);\n      } else {\n        reject(`Rejected promise ${position} in ${delay} ms`);\n      }\n    }, delay);\n  });\n};\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$onFulfill","success","$parcel$interopDefault","Notify","concat","$ce04d3a99e08e73b$var$onReject","reject","failure","addEventListener","evt","setTimeout","promises","push","$ce04d3a99e08e73b$var$createPromise","i","delay","then","catch","step","reset","preventDefault","amount","currentTarget","elements","value","parseInt","i1","_loop","Promise","all","position","resolve","shouldResolve","Math","random"],"version":3,"file":"03-promises.1f49f1f5.js.map"}